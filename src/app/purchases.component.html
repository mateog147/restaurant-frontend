<div class="purchases-wrapper">
  <h1 class="purchases-title">Purchase History</h1>
  <div class="subtitle">View and manage all your past purchases from the market.</div>
  <table class="purchases-table" *ngIf="!loading && filtered.length">
    <thead>
      <tr>
        <th>Date</th>
        <th>Quantity</th>
        <th>Product</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let purchase of filtered">
        <td>{{ purchase.createdAt | date:'yyyy-MM-dd' }}</td>
        <td>{{ purchase.quantity }}</td>
        <td>{{ purchase.ingredientName  }}</td>
      </tr>
    </tbody>
  </table>
  <div *ngIf="loading" class="loading">Loading...</div>
  <div *ngIf="!loading && !filtered.length" class="error">No purchases found.</div>
  <div *ngIf="error" class="error">{{ error }}</div>
</div>